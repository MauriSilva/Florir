<%- include("partials/layout") %>
  <%- include("partials/header") %>

    <main class="container">

      <section class="text-center">
        <h1>ðŸ“š ConteÃºdos Educativos</h1>
        <p>Explore nossos artigos organizados por tema.</p>

        <!-- FILTROS DE CATEGORIA -->
        <div class="glass-card"
          style="display: inline-flex; gap: 1rem; flex-wrap: wrap; justify-content: center; margin-top: 1rem; padding: 1rem;">
          <a href="/conteudo" class="btn"
            style="<%= !categoriaSelecionada ? 'background: var(--primary);' : 'background: transparent; color: var(--text-main); border: 1px solid #ddd;' %>">
            Todas
          </a>
          <% categorias.forEach(cat=> { %>
            <a href="?categoria=<%= cat %>" class="btn"
              style="<%= categoriaSelecionada === cat ? 'background: var(--primary);' : 'background: transparent; color: var(--text-main); border: 1px solid #ddd;' %>">
              <%= cat.charAt(0).toUpperCase() + cat.slice(1) %>
            </a>
            <% }) %>
        </div>
      </section>

      <!-- LISTAGEM DOS POSTS -->
      <section>
        <div class="posts-grid">
          <% if (posts.length> 0) { %>
            <% posts.forEach(post=> { %>
              <div class="post-card">
                <% if (post.image) { %>
                  <img src="<%= post.image %>" alt="<%= post.title %>">
                  <% } %>
                    <div class="post-content">
                      <h3>
                        <%= post.title %>
                      </h3>
                      <p>
                        <%= post.summary %>
                      </p>
                      <a href="/posts/<%= post.id %>">Ler mais <i class="fa-solid fa-arrow-right"></i></a>
                    </div>
              </div>
              <% }) %>
                <% } else { %>
                  <div class="glass-card text-center" style="grid-column: 1 / -1;">
                    <p>Nenhum conteÃºdo encontrado para esta categoria.</p>
                    <a href="/conteudo" class="btn">Ver todos</a>
                  </div>
                  <% } %>
        </div>
      </section>

    </main>

    <%- include("partials/footer") %>